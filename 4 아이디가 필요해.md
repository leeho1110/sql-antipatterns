# 4. 아이디가 필요해

- PK는 왜 필요할까? 반드시 필요한 걸까?
    - 경우에 따라 다릅니다. PK가 반드시 중복을 막아주진 못합니다. 식별자라고 판단한 것이 PK로 지정되지 않는다면 PK는 임의의 숫자일 뿐이죠.
    - 만약 테이블에 중복되는 행이 저장되는 것을 방지하고 싶다거나
    - 쿼리에서 각 행의 식별자를 참조해야된다거나
    - FK 참조를 지원해야 한다면
    - **PK는 필요합니다.**
- 그래도 다시 한번 생각해보죠. 우린 문화적으로, 관용적으로 항상 정수 타입의 ID 컬럼을 생성해 PK로 지정합니다. 이것이 꼭 좋은 일일까요?
    - 만약 테이블 안의 다른 컬럼이 자연키로 사용될 수 있다면? 특정 컬럼에 유니크 제약조건이 설정되어 있지만, 별도의 ID 컬럼이 존재하는 경우가 많지 않나요?
- 어떤 경우 시퀀스를 사용하지 않고 ID 값에 1을 더한 값을 PK를 사용하는 경우가 있다. 이 경우는 어떤 문제가 있을까?
    - 경쟁 상태가 발생할 가능성이 있다. 동시성이 높은 애플리케이션이라면 Max 연산이 동일한 결과를 반환할 가능성이 존재한다.
    - 시퀀스를 제공한다면 사용하자.
- 만약 PK로 사용이 가능할만한 자연키가 너무 길다면 ID를 PK로 사용하는 것이 적절합니다.
- PK를 써야한다면 단순히 ID 말고 의미있는 이름을 지으세요.
    - 만약 테이블이 `Bugs` 라면 `bug_id` 처럼요.

> *관례는 도움이 될 때만 좋은 것이다.*
>